const remote=require("@electron/remote"),{Menu,MenuItem}=remote,ipcRenderer=require("electron").ipcRenderer,fs=require("fs"),{Module}=require("module"),path=require("path"),file={get:function(a){return fs.readFileSync(a)},put:function(a,b,c){return fs.writeFileSync(a,b,c)}},PATH={settings:path.join(__dirname,"settings.json")},win={window:remote.getCurrentWindow(),updateMaxBtn:a=>{a=a?a:document.getElementById("btn-max");win.window.isMaximized()?a.classList="maximise unmaximised":a&&(a.classList="maximise maximised")},
minimise:()=>{ipcRenderer.send("minimise")},maximise:a=>{ipcRenderer.send("maximise")},close:()=>{ipcRenderer.send("close")}},e={id:"engine",activate:function(a,b,c){"worker"==b?(new Worker(c)).onerror=function(d){alert("Error initialising engine. Please ensure that the location specified to the engine is valid. You can configure it under the settings tab.")}:"shell"==b&&(ipcRenderer?ipcRenderer.send("activate-engine",a,c):console.error("ipcRenderer is not defined. Could not open terminal process."))},
deactivate:function(){ipcRenderer.send("deactivate-engine")},onoutput:(a,b)=>console.log(a,b)};ipcRenderer.on("engine-output",(a,b,c)=>{e.onoutput(b,c)});window.addEventListener("load",()=>{win.updateMaxBtn()});win.window.on("maximize",()=>win.updateMaxBtn());win.window.on("unmaximize",()=>win.updateMaxBtn());
